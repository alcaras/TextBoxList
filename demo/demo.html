<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
        <title>TextBoxList Demo</title>
        <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7"/>

        <link rel="stylesheet" href="test.css" type="text/css" media="screen" title="Test Stylesheet" charset="utf-8" />
        <script src="../lib/prototype.js" type="text/javascript" charset="utf-8">
        </script>
        <script src="../src/TextBoxList.js" type="text/javascript" charset="utf-8">
        </script>
    </head>
    <body id="test">
        <h1>TextBoxList Demo</h1>
        <form action="test_submit" method="get" accept-charset="utf-8">
            <ol>
                <li id="facebook-list" class="input-text">
                    <label>
                        FacebookList input
                    </label>
                    <input type="text" id="facebook-demo" /><!-- These two writers will be added when the control is loaded -->
                </li>
            </ol><input type="submit" value="Submit Form" id="submitBtn">
        </form>
         <script type="text/javascript">
          var tbl;
          // value="[{'caption':'Jorge Luis Borges', 'value': '1'},{'caption':'Julio Cortazar', 'value': '2'}]"
            document.observe('dom:loaded', function(){
            
              tbl = new TextboxList('facebook-demo', {
                autoComplete: {
                  opacity: 0.9,
                  showMessage: true,
                  message: 'Type the name of an argentine writer you like',
                  url: 'fetched.txt',
                  customTagKeys: [{
                    printable: true,
                    character: ','
                  }]
//                  selectKeys: [188]
                }
              });
//     new TextboxList('facebook-demo', {
//      autoComplete: {
//        opacity: 0.9,
//        minchars: 3,
//        showMessage: true,
//        message: 'Type a tag',
//        selectKey2: Event.KEY_RIGHT, // right arrow select the item
//        url: 'fetched.txt'
//      }
//    });             
              /*
               * tbl.addItem({
               *   caption: 'displayValue',
               *   value: 'hiddenValue'
               * });
               */
              
              
              
//              new Ajax.Request('fetched.txt', {
//                method: 'get',
//                onSuccess: function(transport){
//                  new TextboxList('facebook-demo', null, transport.responseText.evalJSON(true));
//                }
//              });
            });
        </script>
    </body>
</html>

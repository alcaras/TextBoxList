<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
        <title>TextBoxList Demo</title>
        <link rel="stylesheet" href="test.css" type="text/css" media="screen" title="Test Stylesheet" charset="utf-8" />
        <script src="../lib/prototype.js" type="text/javascript" charset="utf-8">
        </script>
        <script src="../src/TextBoxList.js" type="text/javascript" charset="utf-8">
        </script>
    </head>
    <body id="test">
        <h1>TextBoxList Demo</h1>
        <p>
            <a href="http://www.interiders.com/2008/02/18/protomultiselect-02/">See article page</a>, <a href="http://www.interiders.com/wp-content/demos/ProtoMultiSelect/test.html">Go to Proto!MultiSelect demo</a>
        </p>
        <div id="text">
        </div>
        <form action="test_submit" method="get" accept-charset="utf-8">
            <ol>
                <li class="input-text">
                    <label>
                        Simple input
                    </label>
                    <input type="text" name="testinput" value="" id="testinput" />
                </li>
                <li id="facebook-list" class="input-text">
                    <label>
                        FacebookList input
                    </label>
                    <input type="text" id="facebook-demo" /><!-- These two writers will be added when the control is loaded -->
                </li>
            </ol><input type="submit" value="Submit Form" id="submitBtn">
        </form>
         <script type="text/javascript">
          var tbl;
          // value="[{'caption':'Jorge Luis Borges', 'value': '1'},{'caption':'Julio Cortazar', 'value': '2'}]"
            document.observe('dom:loaded', function(){
            
              tbl = new TextboxList('facebook-demo', {
                autoComplete: {
                  opacity: 0.9,
                  showMessage: true,
                  message: 'Type the name of an argentine writer you like',
                  url: 'fetched.txt'
                }
              });
              
              /*
               * tbl.addItem({
               *   caption: 'displayValue',
               *   value: 'hiddenValue'
               * });
               */
              
              
              
//              new Ajax.Request('fetched.txt', {
//                method: 'get',
//                onSuccess: function(transport){
//                  new TextboxList('facebook-demo', null, transport.responseText.evalJSON(true));
//                }
//              });
            });
        </script>
    </body>
</html>
